"use strict";angular.module("docsApp",["docsApp.controllers","docsApp.directives"]),angular.module("docsApp.controllers",[]).controller("DocsCtrl",["$scope","$filter","$http","$location","$anchorScroll","$sce",function(a,b,c,d,e,f){function g(a){return a.sort(function(a,b){var c=i[a.scope]||5,d=i[b.scope]||5;if(d>c)return-1;if(c>d)return 1;var e=a.title.split("."),f=b.title.split("."),g=e[0],h=f[0],j=e[1],k=f[1];return g.toLowerCase()<h.toLowerCase()?-1:g.toLowerCase()>h.toLowerCase()?1:h>g?-1:g>h?1:k>j?-1:j>k?1:0}),a}function h(){var a=document.getElementById("resultListing"),b=document.getElementById("resultDocs");a&&(a.scrollTop=0),b&&(b.scrollTop=0)}var i={server:1,shared:2,client:3,menu:4};a.queryModel=d.search().q||"",a.query=d.search().q||"",a.docFilter=d.search().f||a.queryModel,a.resultLimit=50,a.functions=null,c({url:"./data/glua.json",method:"GET"}).success(function(b){a.functions=g(b)}),a.select=function(b,c){if(c>a.resultLimit)d.search("f",b.title),a.docFilter=b.title,e();else{d.search("f",null),a.docFilter=a.query;var f=document.getElementById(b.title);f&&f.scrollIntoView(!0)}},a.updateQuery=function(){var b,c=220;return function(){b&&window.clearTimeout(b),b=window.setTimeout(function(){h(),a.$apply(function(){var b=a.queryModel,c=b.length?b:null;a.docFilter=b,a.query=b,d.search("q",c),d.search("f",null)})},c)}}(),a.unsafeHtml=function(a){return f.trustAsHtml(a)}}]),angular.module("docsApp.directives",[]).directive("docRainbow",function(){return function(a){a.$last&&window.Rainbow&&setTimeout(function(){Rainbow.color()},100)}});